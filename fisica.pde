class Fisica {

    // declaracion del objeto a mostrar
    float consigna;
    float consigna_ant;
    float intermedio;
    float tau;
    int contador;
/*	
	float[] exponente_tau_5 = {1,0.818730753,0.670320046,0.548811636,0.449328964,0.367879441,0.301194212,0.246596964,0.201896518,0.165298888,0.135335283,0.110803158,0.090717953,0.074273578,0.060810063,0.049787068,0.040762204,0.03337327,0.027323722,0.022370772,0.018315639,0.014995577,0.01227734,0.010051836,0.008229747,0.006737947,0.005516564,0.004516581,0.003697864,0.003027555,0.002478752,0.002029431,0.001661557,0.001360368,0.001113775,0.000911882,0.000746586,0.000611253,0.000500451,0.000409735,0.000335463,0.000274654,0.000224867,0.000184106,0.000150733,0.00012341,0.000101039,8.27241E-05,6.77287E-05,5.54516E-05,4.53999E-05,3.71703E-05,3.04325E-05,2.4916E-05,2.03995E-05,1.67017E-05,1.36742E-05,1.11955E-05,9.16609E-06,7.50456E-06,6.14421E-06,5.03046E-06,4.11859E-06,3.37202E-06,2.76077E-06,2.26033E-06,1.8506E-06,1.51514E-06,1.2405E-06,1.01563E-06,8.31529E-07,6.80798E-07,5.5739E-07,4.56353E-07,3.7363E-07,3.05902E-07,2.50452E-07,2.05052E-07,1.67883E-07,1.37451E-07,1.12535E-07,9.2136E-08,7.54346E-08,6.17606E-08,5.05653E-08,4.13994E-08,3.38949E-08,2.77508E-08,2.27205E-08,1.86019E-08,1.523E-08,1.24693E-08,1.0209E-08,8.35839E-09,6.84327E-09,5.6028E-09,4.58718E-09,3.75567E-09,3.07488E-09,2.5175E-09,2.06115E-09};
	float[] exponente_tau_10 = {1,0.904837418,0.818730753,0.740818221,0.670320046,0.60653066,0.548811636,0.496585304,0.449328964,0.40656966,0.367879441,0.332871084,0.301194212,0.272531793,0.246596964,0.22313016,0.201896518,0.182683524,0.165298888,0.149568619,0.135335283,0.122456428,0.110803158,0.100258844,0.090717953,0.082084999,0.074273578,0.067205513,0.060810063,0.05502322,0.049787068,0.045049202,0.040762204,0.036883167,0.03337327,0.030197383,0.027323722,0.024723526,0.022370772,0.020241911,0.018315639,0.016572675,0.014995577,0.013568559,0.01227734,0.011108997,0.010051836,0.009095277,0.008229747,0.007446583,0.006737947,0.006096747,0.005516564,0.004991594,0.004516581,0.004086771,0.003697864,0.003345965,0.003027555,0.002739445,0.002478752,0.002242868,0.002029431,0.001836305,0.001661557,0.001503439,0.001360368,0.001230912,0.001113775,0.001007785,0.000911882,0.000825105,0.000746586,0.000675539,0.000611253,0.000553084,0.000500451,0.000452827,0.000409735,0.000370744,0.000335463,0.000303539,0.000274654,0.000248517,0.000224867,0.000203468,0.000184106,0.000166586,0.000150733,0.000136389,0.00012341,0.000111666,0.000101039,9.14242E-05,8.27241E-05,7.48518E-05,6.77287E-05,6.12835E-05,5.54516E-05,5.01747E-05,4.53999E-05};
    float[] exponente_tau_20 = {1,0.951229425,0.904837418,0.860707976,0.818730753,0.778800783,0.740818221,0.70468809,0.670320046,0.637628152,0.60653066,0.57694981,0.548811636,0.522045777,0.496585304,0.472366553,0.449328964,0.427414932,0.40656966,0.386741023,0.367879441,0.349937749,0.332871084,0.316636769,0.301194212,0.286504797,0.272531793,0.259240261,0.246596964,0.234570288,0.22313016,0.212247974,0.201896518,0.192049909,0.182683524,0.173773943,0.165298888,0.157237166,0.149568619,0.142274072,0.135335283,0.128734904,0.122456428,0.116484158,0.110803158,0.105399225,0.100258844,0.095369162,0.090717953,0.086293586,0.082084999,0.078081666,0.074273578,0.070651213,0.067205513,0.063927861,0.060810063,0.057844321,0.05502322,0.052339706,0.049787068,0.047358924,0.045049202,0.042852127,0.040762204,0.038774208,0.036883167,0.035084354,0.03337327,0.031745636,0.030197383,0.02872464,0.027323722,0.025991129,0.024723526,0.023517746,0.022370772,0.021279736,0.020241911,0.019254702,0.018315639,0.017422375,0.016572675,0.015764416,0.014995577,0.014264234,0.013568559,0.012906813,0.01227734,0.011678567,0.011108997,0.010567204,0.010051836,0.009561602,0.009095277,0.008651695,0.008229747,0.007828378,0.007446583,0.007083409,0.006737947};
	float[] exponente_tau_30 = {1,0.9672161,0.935506985,0.904837418,0.875173319,0.846481725,0.818730753,0.791889566,0.765928338,0.740818221,0.716531311,0.69304062,0.670320046,0.648344341,0.627089085,0.60653066,0.58664622,0.567413669,0.548811636,0.530819451,0.513417119,0.496585304,0.480305301,0.46455902,0.449328964,0.434598209,0.420350385,0.40656966,0.393240721,0.380348757,0.367879441,0.355818919,0.344153787,0.332871084,0.321958272,0.311403224,0.301194212,0.291319891,0.281769289,0.272531793,0.263597138,0.254955396,0.246596964,0.238512554,0.230693182,0.22313016,0.215815083,0.208739823,0.201896518,0.195277563,0.188875603,0.182683524,0.176694446,0.170901713,0.165298888,0.159879746,0.154638265,0.149568619,0.144665177,0.139922488,0.135335283,0.130898465,0.126607103,0.122456428,0.118441829,0.114558844,0.110803158,0.107170599,0.103657129,0.100258844,0.096971968,0.093792849,0.090717953,0.087743865,0.084867279,0.082084999,0.079393932,0.07679109,0.074273578,0.071838601,0.069483451,0.067205513,0.065002254,0.062871227,0.060810063,0.058816472,0.056888238,0.05502322,0.053219344,0.051474607,0.049787068,0.048154854,0.04657615,0.045049202,0.043572314,0.042143844,0.040762204,0.03942586,0.038133327,0.036883167,0.035673993};
	float[] exponente_tau_40 = {1,0.975309912,0.951229425,0.927743486,0.904837418,0.882496903,0.860707976,0.839457021,0.818730753,0.798516219,0.778800783,0.759572123,0.740818221,0.722527354,0.70468809,0.687289279,0.670320046,0.653769785,0.637628152,0.621885056,0.60653066,0.591555364,0.57694981,0.562704869,0.548811636,0.535261429,0.522045777,0.509156421,0.496585304,0.484324569,0.472366553,0.460703781,0.449328964,0.438234992,0.427414932,0.41686202,0.40656966,0.396531419,0.386741023,0.377192354,0.367879441,0.358796465,0.349937749,0.341297755,0.332871084,0.324652467,0.316636769,0.30881898,0.301194212,0.2937577,0.286504797,0.279430968,0.272531793,0.265802959,0.259240261,0.252839596,0.246596964,0.240508463,0.234570288,0.228778727,0.22313016,0.217621057,0.212247974,0.207007553,0.201896518,0.196911675,0.192049909,0.187308179,0.182683524,0.178173052,0.173773943,0.169483449,0.165298888,0.161217644,0.157237166,0.153354967,0.149568619,0.145875757,0.142274072,0.138761312,0.135335283,0.131993843,0.128734904,0.125556427,0.122456428,0.119432968,0.116484158,0.113608154,0.110803158,0.108067419,0.105399225,0.102796908,0.100258844,0.097783444,0.095369162,0.093014489,0.090717953,0.088478119,0.086293586,0.08416299,0.082084999};
*/	
	
    Fisica () {
        consigna = 0;
        consigna_ant = 0;
        intermedio = 0;
        tau = 40;
        contador = 0;
    }
    
    float getValor  (float set_point) {
        // comprobar si se trata del mismo valor a alcanzar
        if (consigna != set_point) {
            consigna = set_point;
            consigna_ant += intermedio;
            contador = 0;
        }
        else
            contador++;
        
        // obtener valor intermedio
        intermedio = (consigna - consigna_ant) * ( 1 - exp( -contador / tau ));
		
	/*	if (contador < 100)
			intermedio = (consigna - consigna_ant) * ( 1 - exponente_tau_30[contador]);
		else 
			intermedio = consigna - consigna_ant;
	*/	
        return consigna_ant + intermedio;
    }
};